<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Encapsulamento - Visibilidade: public, private -- Computação II (MAB240)</title>

	<meta name="description" content="Computação II - Ciência da Computação -- Introdução ao Curso">
	<meta name="author" content="Danilo S. Carvalho">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="/public/reveal.js/dist/reset.css">
    <link rel="stylesheet" href="/public/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="/public/reveal.js/dist/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="/public/reveal.js/plugin/highlight/monokai.css" id="highlight-theme">
    <link rel="stylesheet" href="/public/css/slides.css">

	<!--[if lt IE 9]>
	<script src="reveal.js/lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>

	<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Título">
                <div class="sl-block" data-block-type="text" style="margin-top: 60px; height: auto; background-color: rgba(106, 226, 106, 0.7); border-radius: 25px;">
                    <div class="sl-block-content" data-placeholder-tag="h3" style="z-index: 11;">
                        <h3>
                            Encapsulamento - Visibilidade: public, private
                        </h3>
                    </div>
                </div>

                <div class="sl-block" data-block-type="text" style="margin-top: 180px; height: auto; background-color: rgba(255, 255, 255, 0.4);">
                    <div class="sl-block-content" data-placeholder-tag="h4" style="z-index: 10;">
                        <h4>Computação II - Ciência da Computação</h4>
                        <img src="/public/Logo_DCC_CC.svg" style="width: 300px;"/>
                        <br style="line-height: 100%" />
                        <h5 style="font-size: 24pt">Prof.: Danilo S. Carvalho</h5>
                    </div>
                </div>

                <aside class="notes">
                    Olá pessoal.<br />
                    Bem vindos a mais uma aula curso de Computação II do Bacharelado em Ciência da Computação da UFRJ.
                </aside>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Intro">
                <p class="fragment">
                    Nessa aula, começaremos a tratar de mais um dos tópicos importantes para a Orientação a Objetos, e de sua
                    aplicação à linguagem Java: <b>Encapsulamento</b>. 
                </p>
                <br/>
                <p class="fragment">
                    Ao final da aula, teremos como controlar a visibilidade dos detalhes de implementação da nossas classes.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Porque modificadores">
                <p class="fragment">
                    Até esse ponto toda vez que criamos uma classe ou um método, utilizamos o modificador 
                        <b style="color: blue;">public</b>.
                </p>
                <br/>
                <p class="fragment">
                    E quando criamos variáveis ou atributos, não utilizamos tal modificador.
                </p>
                <p class="fragment">
                    Mas o que significa esse modificador? Há outros? Quando precisamos usar?
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Modificadores (1)">
                <div class="r-stack">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        Toda vez que declaramos uma classe, método ou campo, especificamos para este um <b>modificador de acesso</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2" >
                        Esse modificador determina quais elementos do código poderão acessar aquilo que foi declarado.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="3" >
                        O modificador <b style="color: blue;">public</b>, permite o acesso por qualquer parte do programa.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="4" >
                        Ou seja, podemos usar uma classe public em qualquer outra classe, de qualquer outro pacote. <br />
                        No exemplo abaixo, podemos declarar uma variável do tipo Pessoa em qualquer parte do programa.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="5" >
                        Já o modificador <b style="color: blue;">private</b>, permite o acesso apenas pela classe (ou arquivo) 
                        em que o elemento foi declarado.
                    </p>
                    
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="6" >
                        Uma classe private só pode ser usada nela mesma, o que não faz sentido, e por isso esse modificador
                        não é usado dessa maneira.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="7" >
                        No caso dos métodos e atributos, o modificador public permite o acesso a partir de uma instância da
                        classe criada em qualquer parte do programa.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="8" >
                        Logo, no exemplo abaixo, qualquer instância que eu criar da classe <b>Pessoa</b> vai permitir acesso
                        ao campo cpf e ao método ler.
                    </p>
                </div>

                <div class="r-stack">
                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="3">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Pessoa {
                                ...
                            }
                        </code>
                    </pre>
                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="5">
                        <code class="hljs java" data-trim data-line-numbers >
                            private class Pessoa {
                                ...
                            }
                        </code>
                    </pre>
                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="7">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Pessoa {
                                String cpf;
                                ...

                                public void ler(Livro livro) {

                                }
                            }
                        </code>
                    </pre>
                </div>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="O caso private">
                <div class="r-stack">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        Mas imagine agora a seguinte situação:
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2" >
                        A administração da biblioteca descobriu que cada usuário possui uma atenção limitada a um certo número
                        de páginas, após o qual as páginas lidas não são absorvidas e a pessoa vai ler o livro novamente, para
                        continuar de onde parou. 
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="3" >
                        Esse limite é estimado no momento da criação do registro da pessoa na biblioteca, dada a sua idade, 
                        e é usado para incrementar o número de páginas lidas, caso a pessoa leia um livro que ultrapasse o limite.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="4" >
                        Entretanto, esse limite, e a forma como é utilizado pela classe são de interesse apenas da classe pessoa,
                        já que deve apenas afetar o funcionamento de cada objeto do tipo pessoa.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="5" >
                        Dessa forma, podemos alterar a maneira como o limite é estimado, ou como afeta os contadores de leitura
                        a qualquer momento, sem afetar como o restante do programa utiliza os objetos desse tipo.
                    </p>
                    
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="6" >
                        Para limitar o acesso de um campo ou método apenas à sua própria classe, usamos o modificador 
                        <b style="color: blue;">private</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="7" >
                        No exemplo abaixo, o campo <b>paginasAtento</b> só pode ser acessado pelos métodos da classe Pessoa.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="8" >
                        Para as demais classes do programa, é como se esse campo não existisse.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="9" >
                        O mesmo vale para métodos private. Apenas a própria classe pode chamá-los.
                    </p>
                </div>

                <div class="r-stack">
                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="2">
                        <code class="hljs java" data-trim data-line-numbers >
                            private class Pessoa {
                                ...
                                int paginasAtento;

                                public void ler(Livro livro) {
                                    ...
                                    this.paginasLidas += (livro.numPaginas > paginasAtento) ? 
                                                         paginasAtento : livro.numPaginas;
                                }
                            }
                        </code>
                    </pre>

                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="6">
                        <code class="hljs java" data-trim data-line-numbers >
                            private class Pessoa {
                                ...
                                private int paginasAtento;

                                public void ler(Livro livro) {
                                    ...
                                    this.paginasLidas += (livro.numPaginas > paginasAtento) ? 
                                                         paginasAtento : livro.numPaginas;
                                }
                            }
                        </code>
                    </pre>
                </div>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Porque modificadores">
                <p class="fragment">
                    Além de public e private, há também o modificador <b style="color: blue;">protected</b>, que permite que
                    campos e métodos sejam acessados também por subclasses (falaremos sobre elas adiante).
                </p>
                <br/>
                <p class="fragment">
                    Mas e quanto aos campos que deixamos sem modificador? Qual o tipo de acesso permitido?
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Porque modificadores">
                <p class="fragment">
                    Quando não usamos um modificador, os campos e métodos podem ser acessados por qualquer classe dentro
                    do mesmo <b>pacote</b>.
                </p>
                <br/>
                <p class="fragment">
                    Esse é o chamado modificador <b style="color: blue;">default</b>.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Encapsulamento">
                <div class="r-stack" style="font-size: smaller;">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        Os modificadores de acesso são o primeiro aspecto de implementação de um conceito importantíssimo 
                        em Orientação a Objetos: o <b>Encapsulamento</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2">
                        Nesse contexto, encapsular significa ocultar os detalhes de implementação de uma unidade do programa,
                        no caso as classes, para que outras partes do código não precisem fazer uso desses detalhes.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" data-fragment-index="3" >
                        Dessa forma criamos módulos "caixa-preta", que nós e outros programadores podemos usar sem saber exatamente
                        como funcionam.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" data-fragment-index="4" >
                        Há várias vantagens nisso, mas as duas principais são:
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="5">
                        1. Gastamos menos tempo analisando código, pois simplesmente usamos módulos já prontos (classes, pacotes), 
                        confiando na descrição <i>do que eles fazem</i> (Javadoc) sem ter de se preocupar com o <i>como fazem</i>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="6" >
                        Fazendo novamente uma analogia com automóveis, quando dirigimos um carro não estamos preocupados com os
                        detalhes do funcionamento do motor, transmissão, etc., mas apenas em operar os controles do painel, volante
                        e pedais.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="7" >
                        2. Podemos mudar a implementação dos detalhes sem mudar a forma como as classes ou métodos são utilizados.
                        Por exemplo, um método pode mudar completamente a forma de fazer algo (mais eficiência, acurácia, etc.),
                        mantendo a mesma assinatura.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="8" >
                        Da mesma forma que no mundo real, poderiamos modificar o motor de um carro e incluir um motor a jato.
                    </p>
                    <p class="fragment" style="font-size: smaller;" data-fragment-index="9" >
                        O que deve fazer ele andar bem mais rápido, 
                        <span class="fragment" data-fragment-index="10">mas podemos manter o mesmo painél, volante e pedais, 
                        adicionando alguns botões opcionais (sobrecarga) para acionar o motor a jato.</span>
                    </p>
                </div>

                <div class="r-stack" style="margin-top: 20px;">
                    <img src="media/black_box.jpg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="3" />
                    <img src="media/black_box.jpg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="4" />
                    <img src="media/black_box.jpg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="5" />
                    <img src="media/lexus_car_dashboard.jpg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="6" />
                    <img src="media/lexus_car_dashboard.jpg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="7" />
                    <img src="media/jet_beetle.jpg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="8" />

                    <figure class="fragment" data-fragment-index="9">
                        <img src="media/jet-beetle_run.jpg" style="height: 400px;" class="fragment" data-fragment-index="9"  />
                        <img src="media/jet_beetle_dashboard.jpg" style="height: 400px;" class="fragment" data-fragment-index="10" />
                    </figure>
                </div>
            </section>

            

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Conclusão">
                <p class="fragment">
                    Entendemos agora porque é interessante ocultar o funcionamento interno de uma classe e demos o
                    primeiro passo em como fazer isso no Java com os modificadores de acesso.
                </p>
                <br />
                <p class="fragment">
                    Podemos imaginar que a nossas classes do sistema bancário podem se beneficiar bastante dessa
                    forma de pensar. Que tal aplicar isso à elas.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Perguntas">
                <p>
                    Perguntas:
                </p>
                <ol class="list-spacing-long">
                    <li style="font-size: smaller;">
                        Para o compilador Java, tentar acessar um campo inexistente de um objeto ou um campo private causa o
                        mesmo resultado?
                    </li>
                    <li style="font-size: smaller;">
                        Os campos e métodos privados aparecem no Javadoc?
                    </li>
                </ol>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Perguntas">
                <p>
                    Exercício:
                </p>
                <ol class="list-spacing-long">
                    <li style="font-size: smaller;">
                        Modifique o código do sistema bancário simples, incorporando os modificadores de acesso private
                        e protected onde aplicável e justificando a escolha do acesso.
                    </li>
                </ol>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out">
				<p style="font-size: larger;">
                    Até a próxima aula!
                </p>
            </section>
		</div>
	</div>

	<!--<script src="../reveal.js/lib/js/head.min.js"></script>-->
    <script src="/public/reveal.js/dist/reveal.js"></script>
    <script src="/public/reveal.js/plugin/zoom/zoom.js"></script>
    <script src="/public/reveal.js/plugin/notes/notes.js"></script>
    <script src="/public/reveal.js/plugin/search/search.js"></script>
    <script src="/public/reveal.js/plugin/markdown/markdown.js"></script>
    <script src="/public/reveal.js/plugin/highlight/highlight.js"></script>

	<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				mouseWheel: true,
                slideNumber: "c/t",
                showSlideNumber: "all",
				audio: {
					prefix: 'audio/',
					suffix: '.webm',
					defaultDuration: 1,
					textToSpeechURL: null,
					advance: 500,
					autoplay: false,
					defaultNotes: true,
					defaultText: false,
					playerOpacity: 0.2,
				},
				menu: { // Menu works best with font-awesome installed: sudo apt-get install fonts-font-awesome
					themes: false,
					transitions: false,
					markers: true,
					hideMissingTitles: true,
					//custom: [
				    //        { title: 'Plugins', icon: '<i class="fa fa-external-link-alt"></i>', src: 'toc.html' },
				    //        { title: 'About', icon: '<i class="fa fa-info"></i>', src: 'about.html' }
				    //    ]
				},
				//theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				//transition: Reveal.getQueryHash().transition || 'default', // none/fade/slide/convex/concave/zoom

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: '/public/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/public/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/public/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); }},
					{ src: '/public/reveal.js-plugins/audio-slideshow/RecordRTC.js', condition: function( ) { return !!document.body.classList; } },				
					{ src: '/public/reveal.js-plugins/audio-slideshow/slideshow-recorder.js', condition: function( ) { return !!document.body.classList; } },				
					{ src: '/public/reveal.js-plugins/audio-slideshow/audio-slideshow.js', condition: function( ) { return !!document.body.classList; } },
					{ src: '/public/reveal.js-plugins/menu/menu.js' },
				],
                
				keyboard: { 
					82: function() { Recorder.toggleRecording(); },	// press 'r' to start/stop recording
					90: function() { Recorder.downloadZip(); }, 	// press 'z' to download zip containing audio files
					84: function() { Recorder.fetchTTS(); } 	// press 't' to fetch TTS audio files
  				},
                
                plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
			});

	</script>
</body>
</html>

