<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Herança -- Computação II (MAB240)</title>

	<meta name="description" content="Computação II - Ciência da Computação -- Introdução ao Curso">
	<meta name="author" content="Danilo S. Carvalho">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="/public/reveal.js/dist/reset.css">
    <link rel="stylesheet" href="/public/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="/public/reveal.js/dist/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="/public/reveal.js/plugin/highlight/monokai.css" id="highlight-theme">
    <link rel="stylesheet" href="/public/css/slides.css">

	<!--[if lt IE 9]>
	<script src="reveal.js/lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>

	<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Título">
                <div class="sl-block" data-block-type="text" style="margin-top: 60px; height: auto; background-color: rgba(106, 226, 106, 0.7); border-radius: 25px;">
                    <div class="sl-block-content" data-placeholder-tag="h3" style="z-index: 11;">
                        <h3>
                            Herança
                        </h3>
                    </div>
                </div>

                <div class="sl-block" data-block-type="text" style="margin-top: 150px; height: auto; background-color: rgba(255, 255, 255, 0.4);">
                    <div class="sl-block-content" data-placeholder-tag="h4" style="z-index: 10;">
                        <h4>Computação II - Ciência da Computação</h4>
                        <img src="/public/Logo_DCC_CC.svg" style="width: 300px;"/>
                        <br style="line-height: 100%" />
                        <h5 style="font-size: 24pt">Prof.: Danilo S. Carvalho</h5>
                    </div>
                </div>

                <aside class="notes">
                    Olá pessoal.<br />
                    Bem vindos a mais uma aula curso de Computação II do Bacharelado em Ciência da Computação da UFRJ.
                </aside>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Intro">
                <p class="fragment">
                    Nessa aula, trataremos da possibilidade de reaproveitar a definição de classes para construir conceitos 
                    derivados ou generalizados daqueles que já temos.
                </p>
                <br/>
                <p class="fragment">
                    Ao final da aula, poderemos implementar subclasses e entender o seu comportamento.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Melhorando a conceitualização">
                <p>
                    Durante a conceitualização dos objetos do mundo que queremos representar no computador em classes,
                    muitas vezes nos deparamos com as seguintes situações: 
                </p>
                <br/>
                <div class="r-stack">
                    <p class="fragment fade-in-then-out" data-fragment-index="2" >
                        1. Duas ou mais classes possuem características muito parecidas, ou apenas diferem em poucos detalhes.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" data-fragment-index="3" >
                        2. Queremos criar subtipos de uma classe existente, mudando certas características ou comportamento.
                    </p>
                </div>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out">
                <p class="fragment">
                    No primeiro caso, desejamos alcançar um nível mais alto de abstração, generalizando conceitos diferentes
                    em suas características comuns. 
                </p>
                <br/>
                <p class="fragment">
                    No segundo caso, procuramos especificar mais uma abstração existente para determinar detalhes úteis ao
                    nosso programa.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Funcionários e Usuários">
                <p class="fragment" style="font-size: smaller;">
                    Voltando ao nosso mundo da biblioteca, a administração decidiu incluir os funcionários da biblioteca
                    no sistema.
                </p> 
                <br/>
                <p class="fragment" style="font-size: smaller;">
                    Os funcionários também são pessoas, portanto poderiamos usar a classe Pessoas que já temos para representá-los,
                    certo?
                </p>
                <br/>
                <p class="fragment" style="font-size: smaller;">
                    Mas precisamos de alguma maneira de distinguir entre os funcionários e os usuários da biblioteca, pois possuem
                    certas características e papéis (e portanto ações) diferentes.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Herança">
                <div class="r-stack" style="font-size: smaller;">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        Resolvemos esses casos com o próximo conceito da Orientação a Objetos: a <b>Herança</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2" >
                        A ideia é que uma classe pode "herdar" os atributos e métodos de outra classe, formando assim uma hierarquia.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" data-fragment-index="3" >
                        Na figura abaixo, a abstração de um veículo é especificada progressivamente, adicionando características
                        e ações (ex: forma de locomoção) diferentes.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" data-fragment-index="4" >
                        No caso da nossa abstração de um carro, esta pode ser especificada em marcas, modelos, e assim por diante.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" data-fragment-index="5" >
                        No caso da nossa abstração de um carro, esta pode ser especificada em marcas, modelos, e assim por diante.
                    </p>
                </div>

                <div class="r-stack" style="margin-top: 20px;">
                    <img src="media/inheritance.jpg" class="fragment fade-in-then-out current-visible" style="width: 800px;" data-fragment-index="2" />
                    <img src="media/inheritance.jpg" class="fragment fade-in-then-out current-visible" style="width: 800px;" data-fragment-index="3" />
                    <img src="media/oop_classes_objetos.svg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="4" />
                    <img src="media/oop_classes_subclasses_objetos.svg" class="fragment fade-in-then-out current-visible" style="width: 600px;" data-fragment-index="5" />
                </div>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="extends">
                <div class="r-stack">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        No Java, a herança é implementada usando a palavra chave extends.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2" >
                        No exemplo abaixo, a classe <b>Carro</b> "estende", ou seja, herda os atributos (campos) e ações (métodos)
                        da classe <b>VeiculoComRodas</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="3" >
                        Dizemos então que Carro é uma <b>subclasse</b> de VeiculoComRodas.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="4" >
                        Todos os campos e métodos que forem declarados na classe Carro serão adicionados aos campos já existentes em 
                        VeiculoComRodas, sendo portanto um diferencial dessa classe com relação à sua classe mãe (parent class).
                    </p>
                </div>

                <div class="r-stack">
                    <pre data-id="code-animation" style="width: 100%;">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Carro extends VeiculoComRodas {
                                ...
                            }
                        </code>
                    </pre>
                </div>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Aplicando na biblioteca">
                <div class="r-stack">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        Vamos então aplicar isso ao nosso problema da biblioteca.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2" >
                        Sabemos que ambos os usuários e funcionários da biblioteca são pessoas, então trazemos para a classe
                        pessoa toda a <b>abstração comum</b> entre essas duas categorias.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="3" >
                        Como queremos que esses campos sejam acessíveis nas subclasses, trocamos o modificador de acesso deles
                        para <b style="color: blue;">protected</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="4" >
                        Resta agora a criação de cada uma das subclasses.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="5" >
                        Dos usuários da biblioteca queremos manter os dados relativos ao uso dos livros: o número de páginas lidas
                        o limite individual de atenção e a capacidade de leitura dos livros e revistas.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="6" >
                        Dos funcionários queremos manter os dados relativos ao trabalho: matrícula de funcionário, horas trabalhadas,
                        se estão em serviço ou não no momento e a capacidade de bater ponto.
                    </p>
                </div>

                <div class="r-stack">
                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="2">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Pessoa {
                                private String cpf;
                                private String nome;
                                private LocalDateTime dataNascimento;
                                private String endereço;
                                private String telefone;
                            }
                        </code>
                    </pre>

                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="3">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Pessoa {
                                protected String cpf;
                                protected String nome;
                                protected LocalDateTime dataNascimento;
                                protected String endereço;
                                protected String telefone;
                            }
                        </code>
                    </pre>

                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="5">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Usuario extends Pessoa{
                                private int paginasLidas;
                                private int paginasAtento;

                                public void ler(Livro livro) {
                                    ...
                                }

                                public void ler(Revista revista) {
                                    ...
                                }
                            }
                        </code>
                    </pre>

                    <pre data-id="code-animation" style="width: 100%; height: 400px; margin-top: 0;" class="fragment" data-fragment-index="6">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Funcionario extends Pessoa{
                                private int matricula;
                                private float horasTrabalhadas;
                                private boolean emServico

                                public void baterPonto() {
                                    ...
                                }
                            }
                        </code>
                    </pre>
                </div>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Subtipos e equivalência">
                <p class="fragment">
                    Mas um funcionário não pode ser usuário da biblioteca?
                </p>
                <br/>
                <p class="fragment" style="font-size: smaller;">
                    Sim! Muitas vezes uma mesma entidade do mundo que observamos pode pertencer a mais de uma classe
                    ao mesmo tempo.
                </p>
                <br/>
                <p class="fragment" style="font-size: smaller;">
                    Isso sempre vai ocorrer verticalmente (herança): todo funcionário é também uma pessoa, mas também pode 
                    ocorrer lateralmente (classes "irmãs").
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out">
                <p class="fragment" style="font-size: smaller;">
                    No segundo caso, teremos dois objetos diferentes representando a mesma pessoa no mundo real, onde são
                    mantidos separadamente o seu estado como funcionário e como usuário, por exemplo.
                </p>
                <br/>
                <p class="fragment" style="font-size: smaller;">
                    Como identificar que esses dois objetos diferentes representam a mesma pessoa é algo que trataremos 
                    em uma próxima aula.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Construtores e super">
                <div class="r-stack">
                    <p class="fragment fade-out" data-fragment-index="1" >
                        E quanto aos construtores?
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="2" >
                        Os construtores de uma classe não são herdados pelas suas subclasses.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="3" >
                        Entretanto, é possível chamar um contrutor da superclasse (a classe mãe) para inicializar os campos
                        da subclasse, usando a palavra chave <b style="color: blue;">super</b>.
                    </p>
                    <p class="fragment fade-in-then-out current-visible" style="font-size: smaller;" data-fragment-index="4" >
                        Após chamar um construtor da superclasse, podemos continuar inicializando os campos da subclasse.
                    </p>
                </div>

                <div class="r-stack">
                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="2">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Pessoa {
                                protected String cpf;
                                ...

                                public Pessoa(String cpf, String nome) {
                                    this.cpf = cpf;
                                    this.nome = nome;
                                }
                            }
                        </code>
                    </pre>

                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="3">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Usuario extends Pessoa{
                                private int paginasLidas;
                                private int paginasAtento;

                                public Usuario(String cpf, String nome) {
                                    super(cpf, nome);
                                }

                                ...
                            }
                        </code>
                    </pre>

                    <pre data-id="code-animation" style="width: 100%;" class="fragment" data-fragment-index="4">
                        <code class="hljs java" data-trim data-line-numbers >
                            public class Funcionario extends Pessoa{
                                private int matricula;
                                private float horasTrabalhadas;
                                private boolean emServico

                                public Funcionario(String cpf, String nome, int matricula) {
                                    super(cpf, nome);
                                    this.matricula = matricula;
                                }
                            }
                        </code>
                    </pre>
                </div>
            </section>
            

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Conclusão">
                <p class="fragment">
                    Com isso, entendemos como podemos organizar as nossas classes em diferentes níveis de abstração.
                </p>
                <br />
                <p class="fragment">
                    O resultado dessa forma de pensar é o aumento do reuso do código e maior facilidade de compreensão.
                </p>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Perguntas">
                <p>
                    Perguntas:
                </p>
                <ol class="list-spacing-long">
                    <li style="font-size: smaller;">
                        Se um funcionário também é uma pessoa, então podemos atribuir uma referência a um objeto do tipo
                        <b>Funcionario</b> a uma variável do tipo Pessoa?
                    </li>
                    <li style="font-size: smaller;">
                        Como poderiamos mudar o estado armazenado em campos private de uma superclasse?
                    </li>
                    <li style="font-size: smaller;">
                        Podemos herdar de mais de uma classe?
                    </li>
                </ol>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out" data-menu-title="Exercício">
                <p>
                    Exercício:
                </p>
                <ol class="list-spacing-long">
                    <li style="font-size: smaller;">
                        Resolva a redundância das classes Livro e Revista no caso da biblioteca. Há rumores de que a
                        administração da biblioteca vai trazer novos tipos de publicações: quadrinhos, jornais, e outros, 
                        e organizá-los em diferentes seções de acordo com o tipo. Seja um programador sagaz e prepare o
                        código para as possíveis mudanças.
                    </li>
                </ol>
            </section>

            <section data-background="media/bg.png" data-transition="fade-out">
				<p style="font-size: larger;">
                    Até a próxima aula!
                </p>
            </section>
		</div>
	</div>

	<!--<script src="../reveal.js/lib/js/head.min.js"></script>-->
    <script src="/public/reveal.js/dist/reveal.js"></script>
    <script src="/public/reveal.js/plugin/zoom/zoom.js"></script>
    <script src="/public/reveal.js/plugin/notes/notes.js"></script>
    <script src="/public/reveal.js/plugin/search/search.js"></script>
    <script src="/public/reveal.js/plugin/markdown/markdown.js"></script>
    <script src="/public/reveal.js/plugin/highlight/highlight.js"></script>

	<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				mouseWheel: true,
                slideNumber: "c/t",
                showSlideNumber: "all",
				audio: {
					prefix: 'audio/',
					suffix: '.webm',
					defaultDuration: 1,
					textToSpeechURL: null,
					advance: 500,
					autoplay: false,
					defaultNotes: true,
					defaultText: false,
					playerOpacity: 0.2,
				},
				menu: { // Menu works best with font-awesome installed: sudo apt-get install fonts-font-awesome
					themes: false,
					transitions: false,
					markers: true,
					hideMissingTitles: true,
					//custom: [
				    //        { title: 'Plugins', icon: '<i class="fa fa-external-link-alt"></i>', src: 'toc.html' },
				    //        { title: 'About', icon: '<i class="fa fa-info"></i>', src: 'about.html' }
				    //    ]
				},
				//theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				//transition: Reveal.getQueryHash().transition || 'default', // none/fade/slide/convex/concave/zoom

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: '/public/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/public/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '/public/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); }},
					{ src: '/public/reveal.js-plugins/audio-slideshow/RecordRTC.js', condition: function( ) { return !!document.body.classList; } },				
					{ src: '/public/reveal.js-plugins/audio-slideshow/slideshow-recorder.js', condition: function( ) { return !!document.body.classList; } },				
					{ src: '/public/reveal.js-plugins/audio-slideshow/audio-slideshow.js', condition: function( ) { return !!document.body.classList; } },
					{ src: '/public/reveal.js-plugins/menu/menu.js' },
				],
                
				keyboard: { 
					82: function() { Recorder.toggleRecording(); },	// press 'r' to start/stop recording
					90: function() { Recorder.downloadZip(); }, 	// press 'z' to download zip containing audio files
					84: function() { Recorder.fetchTTS(); } 	// press 't' to fetch TTS audio files
  				},
                
                plugins: [ RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight ]
			});

	</script>
</body>
</html>

